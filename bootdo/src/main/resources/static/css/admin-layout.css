/**
 * Admin Layout Modern Style
 * 后台主布局现代化样式
 * ======================================
 * 设计灵感：Ant Design Pro / Modern Admin
 * - 深色侧边栏
 * - 白色顶部导航
 * - 胶囊样式 Tab
 * - 极简 Logo 区域
 */

/* ============================================
   CSS 变量 - 侧边栏主题
   ============================================ */
:root {
    /* 侧边栏深色主题 */
    --sidebar-bg: #1F2937;
    --sidebar-bg-dark: #111827;
    --sidebar-text: #D1D5DB;
    --sidebar-text-muted: #6B7280;
    --sidebar-hover: rgba(59, 130, 246, 0.1);
    --sidebar-active: #3B82F6;
    --sidebar-border: rgba(255, 255, 255, 0.08);

    /* 顶部导航 */
    --navbar-bg: #FFFFFF;
    --navbar-border: #E5E7EB;
    --navbar-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.06), 0 1px 2px 0 rgba(0, 0, 0, 0.04);

    /* Tab 样式 */
    --tab-bg: #F3F4F6;
    --tab-active: #FFFFFF;
    --tab-hover: #E5E7EB;
    --tab-text: #6B7280;
    --tab-text-active: #1F2937;
}

/* ============================================
   侧边栏 (Sidebar) 现代化
   ============================================ */

/* 侧边栏容器 */
.navbar-static-side {
    background-color: var(--sidebar-bg) !important;
    border-right: none !important;
    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
}

/* 侧边栏折叠按钮 */
.nav-close {
    display: none !important;
}

/* Logo 区域 - 极简设计 */
.nav-header {
    padding: 0 !important;
    background: linear-gradient(180deg, var(--sidebar-bg) 0%, var(--sidebar-bg-dark) 100%);
    border-bottom: 1px solid var(--sidebar-border);
    height: 64px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

.nav-header > div {
    padding: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100% !important;
    height: 100% !important;
}

/* 隐藏头像 */
.nav-header img {
    display: none !important;
}

/* Logo 文字样式 */
.nav-header h3 {
    font-size: 1.5rem !important;
    font-weight: 700 !important;
    margin: 0 !important;
    letter-spacing: -0.025em;
    background: linear-gradient(135deg, #60A5FA 0%, #3B82F6 50%, #2563EB 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* 隐藏个人资料下拉区域 */
.nav-header .dropdown,
.nav-header .profile-element,
.nav-header .logo-element {
    display: none !important;
}

/* 侧边栏菜单容器 */
.sidebar-collapse {
    padding: 12px 0;
}

/* 一级菜单项 */
#side-menu > li {
    border-bottom: none !important;
}

#side-menu > li > a {
    color: var(--sidebar-text) !important;
    padding: 12px 20px !important;
    font-size: 0.875rem !important;
    font-weight: 500 !important;
    transition: all 0.2s ease !important;
    border-radius: 0 !important;
    position: relative;
    display: flex;
    align-items: center;
}

#side-menu > li > a:hover {
    color: #FFFFFF !important;
    background-color: var(--sidebar-hover) !important;
}

/* 一级菜单图标 */
#side-menu > li > a .fa {
    width: 20px;
    font-size: 1rem;
    margin-right: 12px;
    text-align: center;
}

/* 菜单文字 */
#side-menu > li > a .nav-label {
    flex: 1;
}

/* 展开箭头 */
#side-menu > li > a .fa.arrow {
    width: auto;
    margin-right: 0;
    font-size: 0.75rem;
    transition: transform 0.2s ease;
}

/* 展开状态箭头旋转 */
#side-menu > li.active > a .fa.arrow {
    transform: rotate(90deg);
}

/* 一级菜单选中状态 - 左侧高亮竖条 */
#side-menu > li.active > a {
    color: #FFFFFF !important;
    background-color: transparent !important;
}

#side-menu > li.active > a::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 3px;
    background: linear-gradient(180deg, #60A5FA 0%, #3B82F6 100%);
    border-radius: 0 2px 2px 0;
}

/* 二级菜单容器 */
.nav-second-level {
    background-color: rgba(0, 0, 0, 0.2) !important;
    padding: 8px 0 !important;
    border-radius: 0 !important;
}

/* 二级菜单项 */
.nav-second-level > li > a {
    color: var(--sidebar-text-muted) !important;
    padding: 10px 20px 10px 52px !important;
    font-size: 0.8125rem !important;
    transition: all 0.2s ease !important;
    position: relative;
}

.nav-second-level > li > a:hover {
    color: #FFFFFF !important;
    background-color: var(--sidebar-hover) !important;
}

/* 二级菜单选中状态 */
.nav-second-level > li > a.J_menuItem.active {
    color: #60A5FA !important;
    font-weight: 600 !important;
}

.nav-second-level > li > a.J_menuItem.active::before {
    content: '';
    position: absolute;
    left: 36px;
    top: 50%;
    transform: translateY(-50%);
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background-color: #60A5FA;
}

/* ============================================
   顶部导航栏 (Navbar) 现代化
   ============================================ */

/* 顶部导航容器 */
.navbar-static-top {
    background-color: var(--navbar-bg) !important;
    border-bottom: 1px solid var(--navbar-border) !important;
    box-shadow: var(--navbar-shadow) !important;
}

/* 折叠按钮 */
.navbar-minimalize {
    background-color: transparent !important;
    border: none !important;
    color: var(--color-text-secondary) !important;
    padding: 8px 12px !important;
    border-radius: 8px !important;
    transition: all 0.2s ease !important;
}

.navbar-minimalize:hover {
    background-color: var(--color-bg-alt) !important;
    color: var(--color-primary) !important;
}

/* 搜索框 */
.navbar-form-custom {
    margin: 0 20px !important;
}

.navbar-form-custom .form-control {
    background-color: var(--color-bg-alt) !important;
    border: 1px solid var(--color-border) !important;
    border-radius: 20px !important;
    padding: 8px 16px !important;
    font-size: 0.875rem !important;
    width: 280px !important;
    transition: all 0.2s ease !important;
}

.navbar-form-custom .form-control:focus {
    background-color: #FFFFFF !important;
    border-color: var(--color-primary) !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
    width: 320px !important;
}

/* 右侧导航链接 */
.navbar-top-links {
    margin: 0 !important;
}

.navbar-top-links > li {
    margin: 0 4px !important;
}

.navbar-top-links > li > a {
    color: var(--color-text-secondary) !important;
    padding: 8px 12px !important;
    font-size: 0.875rem !important;
    border-radius: 8px !important;
    transition: all 0.2s ease !important;
    display: flex !important;
    align-items: center !important;
    gap: 4px !important;
}

.navbar-top-links > li > a:hover {
    background-color: var(--color-bg-alt) !important;
    color: var(--color-primary) !important;
}

.navbar-top-links > li > a .fa {
    font-size: 1rem;
}

/* 通知徽章 */
.navbar-top-links .label {
    border-radius: 10px !important;
    padding: 2px 6px !important;
    font-size: 0.6875rem !important;
    font-weight: 600 !important;
}

/* 下拉菜单 */
.dropdown-menu {
    border-radius: 12px !important;
    border: 1px solid var(--color-border) !important;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1) !important;
    padding: 8px !important;
    margin-top: 8px !important;
}

.dropdown-menu > li > a {
    border-radius: 6px !important;
    padding: 10px 16px !important;
    font-size: 0.875rem !important;
    transition: all 0.15s ease !important;
}

/* ============================================
   Tab 页签现代化
   ============================================ */

/* Tab 容器 */
.content-tabs {
    background-color: var(--tab-bg) !important;
    border-bottom: 1px solid var(--color-border) !important;
    padding: 8px 16px !important;
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
}

/* 左右滚动按钮 */
.roll-nav {
    background-color: transparent !important;
    border: none !important;
    color: var(--color-text-secondary) !important;
    padding: 8px !important;
    border-radius: 8px !important;
    transition: all 0.2s ease !important;
    min-width: 36px !important;
    height: 36px !important;
}

.roll-nav:hover {
    background-color: var(--tab-hover) !important;
    color: var(--color-text) !important;
}

/* Tab 导航区域 */
.page-tabs {
    flex: 1 !important;
    overflow: hidden !important;
    background: transparent !important;
    border: none !important;
}

.page-tabs-content {
    display: flex !important;
    gap: 4px !important;
}

/* Tab 标签 - 胶囊样式 */
.J_menuTab {
    background-color: transparent !important;
    color: var(--tab-text) !important;
    border: 1px solid transparent !important;
    border-radius: 8px !important;
    padding: 8px 16px !important;
    font-size: 0.8125rem !important;
    font-weight: 500 !important;
    display: inline-flex !important;
    align-items: center !important;
    gap: 8px !important;
    transition: all 0.2s ease !important;
    white-space: nowrap !important;
    position: relative !important;
}

.J_menuTab:hover {
    background-color: var(--tab-hover) !important;
    color: var(--color-text) !important;
}

/* Tab 选中状态 */
.J_menuTab.active {
    background-color: var(--tab-active) !important;
    color: var(--tab-text-active) !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08) !important;
    font-weight: 600 !important;
}

/* Tab 关闭按钮 */
.J_menuTab .fa-times-circle {
    font-size: 0.875rem;
    opacity: 0.6;
    transition: opacity 0.2s ease;
}

.J_menuTab:hover .fa-times-circle {
    opacity: 1;
}

/* Tab 下拉按钮 */
.J_tabClose {
    background-color: transparent !important;
    border: none !important;
    color: var(--color-text-secondary) !important;
    padding: 8px 12px !important;
    border-radius: 8px !important;
    font-size: 0.8125rem !important;
    transition: all 0.2s ease !important;
}

.J_tabClose:hover {
    background-color: var(--tab-hover) !important;
    color: var(--color-text) !important;
}

/* 退出按钮 */
.J_tabExit {
    background-color: transparent !important;
    border: none !important;
    color: var(--color-text-secondary) !important;
    padding: 8px 12px !important;
    border-radius: 8px !important;
    font-size: 0.8125rem !important;
    transition: all 0.2s ease !important;
}

.J_tabExit:hover {
    background-color: #FEE2E2 !important;
    color: #EF4444 !important;
}

/* ============================================
   内容区域
   ============================================ */

#page-wrapper {
    background-color: var(--color-bg) !important;
}

.J_mainContent {
    padding: 0 !important;
    background-color: var(--color-bg) !important;
}

/* Iframe */
.J_iframe {
    background-color: var(--color-bg) !important;
}

/* ============================================
   页脚
   ============================================ */

.footer {
    background-color: var(--navbar-bg) !important;
    border-top: 1px solid var(--navbar-border) !important;
    padding: 12px 20px !important;
    font-size: 0.8125rem !important;
    color: var(--color-text-muted) !important;
}

/* ============================================
   右侧边栏
   ============================================ */

#right-sidebar {
    background-color: var(--navbar-bg) !important;
    border-left: 1px solid var(--navbar-border) !important;
    box-shadow: -2px 0 8px rgba(0, 0, 0, 0.05) !important;
}

#right-sidebar .sidebar-container {
    padding: 20px !important;
}

/* 右侧边栏 Tabs */
#right-sidebar .nav-tabs {
    border-bottom: 1px solid var(--color-border) !important;
}

#right-sidebar .nav-tabs > li > a {
    color: var(--color-text-secondary) !important;
    border: none !important;
    border-radius: 8px 8px 0 0 !important;
    padding: 10px 16px !important;
    font-size: 0.875rem !important;
}

#right-sidebar .nav-tabs > li > a:hover {
    background-color: transparent !important;
    color: var(--color-primary) !important;
}

#right-sidebar .nav-tabs > li.active > a {
    color: var(--color-primary) !important;
    background-color: transparent !important;
    border-bottom: 2px solid var(--color-primary) !important;
}

/* 右侧边栏内容 */
#right-sidebar .sidebar-title {
    margin-bottom: 16px !important;
}

#right-sidebar .sidebar-title h3 {
    font-size: 1rem !important;
    font-weight: 600 !important;
    color: var(--color-text) !important;
    margin-bottom: 4px !important;
}

#right-sidebar .sidebar-title small {
    font-size: 0.8125rem !important;
    color: var(--color-text-secondary) !important;
}

/* 皮肤选择 */
.skin-setttings .setings-item {
    margin-bottom: 12px !important;
    padding: 12px !important;
    border-radius: 8px !important;
    background-color: var(--color-bg-alt) !important;
}

.skin-setttings .setings-item:hover {
    background-color: var(--color-hover-bg) !important;
}

.skin-setttings .skin-name a {
    display: block !important;
    padding: 8px 12px !important;
    border-radius: 6px !important;
    font-size: 0.8125rem !important;
    transition: all 0.2s ease !important;
}

.skin-setttings .skin-name a:hover {
    background-color: var(--color-primary) !important;
    color: #FFFFFF !important;
}

/* ============================================
   侧边栏折叠状态
   ============================================ */

body.mini-navbar .navbar-static-side {
    width: 70px !important;
}

body.mini-navbar .nav-header {
    padding: 0 8px !important;
}

body.mini-navbar .nav-header h3 {
    font-size: 1rem !important;
}

body.mini-navbar #side-menu > li > a {
    padding: 12px !important;
    justify-content: center !important;
}

body.mini-navbar #side-menu > li > a .nav-label,
body.mini-navbar #side-menu > li > a .fa.arrow {
    display: none !important;
}

body.mini-navbar #side-menu > li > a .fa:not(.arrow) {
    margin-right: 0 !important;
    font-size: 1.25rem !important;
}

/* ============================================
   滚动条美化
   ============================================ */

.sidebar-collapse::-webkit-scrollbar,
.page-tabs::-webkit-scrollbar {
    width: 4px !important;
    height: 4px !important;
}

.sidebar-collapse::-webkit-scrollbar-track,
.page-tabs::-webkit-scrollbar-track {
    background: transparent !important;
}

.sidebar-collapse::-webkit-scrollbar-thumb,
.page-tabs::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2) !important;
    border-radius: 2px !important;
}

.sidebar-collapse::-webkit-scrollbar-thumb:hover,
.page-tabs::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3) !important;
}

/* ============================================
   通知消息样式
   ============================================ */

.dropdown-messages-box {
    padding: 8px !important;
    border-radius: 6px !important;
    transition: background-color 0.15s ease !important;
}

.dropdown-messages-box:hover {
    background-color: var(--color-bg-alt) !important;
}

.dropdown-messages-box .media-body {
    font-size: 0.8125rem !important;
}

.dropdown-messages-box .media-body strong {
    color: var(--color-text) !important;
}

.dropdown-messages-box .text-muted {
    color: var(--color-text-muted) !important;
}

.divider {
    height: 1px !important;
    background-color: var(--color-border) !important;
    margin: 8px 0 !important;
}

/* ============================================
   响应式设计
   ============================================ */

@media (max-width: 768px) {
    /* 移动端侧边栏 */
    .navbar-static-side {
        transform: translateX(-100%) !important;
        transition: transform 0.3s ease !important;
    }

    body.body-small .navbar-static-side {
        transform: translateX(0) !important;
    }

    /* 移动端 Tab */
    .J_menuTab {
        padding: 6px 12px !important;
        font-size: 0.75rem !important;
    }

    /* 移动端搜索框 */
    .navbar-form-custom .form-control {
        width: 160px !important;
    }

    .navbar-form-custom .form-control:focus {
        width: 200px !important;
    }

    /* 移动端顶部导航 */
    .navbar-top-links > li > a span {
        display: none !important;
    }

    .navbar-top-links > li > a .fa,
    .navbar-top-links > li > a .label {
        display: inline-block !important;
    }
}

/* ============================================
   动画效果
   ============================================ */

/* 菜单项展开动画 */
.nav-second-level {
    animation: slideDown 0.2s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Tab 添加动画 */
@keyframes tabFadeIn {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.J_menuTab {
    animation: tabFadeIn 0.2s ease-out;
}

/* ============================================
   深色模式切换按钮
   ============================================ */

.onoffswitch {
    position: relative;
    width: 44px;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
}

.onoffswitch-checkbox {
    display: none !important;
}

.onoffswitch-label {
    display: block;
    overflow: hidden;
    cursor: pointer;
    height: 24px;
    padding: 0;
    line-height: 24px;
    border: 2px solid var(--color-border);
    border-radius: 24px;
    background-color: var(--color-bg-alt);
    transition: all 0.2s ease-in-out;
}

.onoffswitch-label:before {
    content: "";
    display: block;
    width: 20px;
    height: 20px;
    margin: 0;
    background: #FFFFFF;
    position: absolute;
    top: 0;
    bottom: 0;
    right: 22px;
    border-radius: 50%;
    transition: all 0.2s ease-in-out;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
}

.onoffswitch-checkbox:checked + .onoffswitch-label {
    background-color: var(--color-primary);
    border-color: var(--color-primary);
}

.onoffswitch-checkbox:checked + .onoffswitch-label:before {
    right: 0;
}

/* ============================================
   加载状态
   ============================================ */

.page-tabs-loading::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--color-primary), transparent);
    animation: loadingSlide 1.5s infinite;
}

@keyframes loadingSlide {
    0% {
        transform: translateX(-100%);
    }
    100% {
        transform: translateX(100%);
    }
}
